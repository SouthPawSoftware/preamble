!function(a){"use strict";function b(){var a;rb=!0,a=3===arguments.length?"<p>"+arguments[0]+"</p><p>File: "+arguments[1]+"</p><p>Line: "+arguments[2]+"</p>":'<p>An error occurred,  "'+arguments[0]+'" and all further processing has been terminated. Please check your browser console for additional details.</p>',_.innerHTML=a}function c(a,b){var c=2===arguments?arguments[1]:"s";return 0===b?a+c:b>1?a+c:a}function d(){setTimeout(function(){var a="<p>Queues built.</p><p>Running "+db.length+c(" assertion",db.length)+"/"+mb+c(" test",mb)+"/"+jb+c(" group",jb)+"...</p>";_.insertAdjacentHTML("beforeend",a)},1)}function e(){var a={},b=[].slice.call(arguments,0);return b.forEach(function(b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function f(){var a={},b=arguments[0],c=[].slice.call(arguments,1);return c.forEach(function(c){var d;for(d in b)b.hasOwnProperty(d)&&(a[d]=c.hasOwnProperty(d)?c[d]:b[d])}),a}function g(){cb=a.preambleConfig?f(bb,preambleConfig):bb,document.getElementById("preamble-container")||(cb.noDom=!0)}function h(){var a;a="<p>Tests completed in "+(X-W)+" milliseconds.</p>",a+=0===qb?'<p class="summary passed">'+pb+c(" assertion",db.length)+"/"+nb+c(" test",nb)+"/"+kb+c(" group",kb)+" passed, 0 tests failed."+"</p>":0===pb?'<p class="summary failed"> 0 tests passed, '+qb+c(" assertion",qb)+"/"+ob+c(" test",ob)+"/"+lb+c(" group",lb)+" failed.</p>":'<p class="summary passed">'+pb+c(" assertion",pb)+"/"+nb+c(" test",nb)+"/"+kb+c(" group",kb)+' passed.</p><p class="summary failed">'+qb+c(" assertion",qb)+"/"+ob+c(" test",ob)+"/"+lb+c(" group",lb)+" failed.</p>",_.insertAdjacentHTML("beforeend",a)}function i(){var a="",b="",c="";ab.style.display="block",fb.forEach(function(d){d.testLabel!==b&&c.length&&(c+="</div>"),d.groupLabel!==a&&c.length&&(c+="</div></a>"),d.groupLabel!==a&&(c+='<div class="group-container"><a class="group" href="?group='+encodeURI(d.groupLabel)+'">'+d.groupLabel+"</a>",a=d.groupLabel),d.testLabel!==b&&(c+='<div class="tests-container"><a class="test" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+'">'+d.testLabel+"</a>",b=d.testLabel),c+=d.result?'<div class="assertion-container"><a class="assertion passed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">""'+d.assertionLabel+'" ('+d.assertion.name+')  passed!"</div>':'<div class="assertion-container"><a class="assertion failed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">"'+d.assertionLabel+'" ('+d.assertion.name+")"+' failed! Expected assertion to return"<em>'+("object"==typeof d.expectation?JSON.stringify(d.expectation):d.expectation)+'</em>" but it returned "'+("object"==typeof d.result?JSON.stringify(d.result):d.result)+'</em>".</div>'}),c+="</div></div>",ab.innerHTML=c}function j(){h(),i()}function k(){var a,b;fb.forEach(function(c){c.result||(c.groupLabel!==a&&(lb++,a=c.groupLabel),c.testLabel!==b&&(ob++,b=c.testLabel))}),nb=mb-ob,kb=jb-lb}function l(){k(),rb||j()}function m(a,b){var c,d;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(c=0,d=a.length;d>c;c++)if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(Array.isArray(a[c])&&Array.isArray(b[c])){if(!m(a[c],b[c]))return!1}else{if(Array.isArray(a[c])||Array.isArray(b[c]))return!1;if(a[c]!==b[c])return!1}}else if(!o(a[c],b[c]))return!1;return!0}return!1}function n(a,b){var c;if(m(a,b))return!0;for(c in a){if(!a.hasOwnProperty(c)||!b.hasOwnProperty(c))return!1;if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(a[c]!==b[c])return!1}else if(!n(a[c],b[c]))return!1}return!0}function o(a,b){return n(a,b)&&n(b,a)}function p(a,b){return"object"==typeof a&&"object"==typeof b&&o(a,b)?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function q(a,b){return!p(a,b)}function r(a){return a===!0}function s(a){return!r(a)}function t(a,b){return p(a,b)}function u(a){return r(a)}function v(a,b){return q(a,b)}function w(a){return s(a)}function x(){var a,b,c;d(),setTimeout(function(){for(a=0,b=db.length;b>a;a++)if(c=db[a],c.result=c.assertion("function"==typeof c.value?c.value():c.value,c.expectation),c.result?pb++:qb++,fb.push(c),cb.shortCircuit&&qb)return l(),void 0;X=Date.now(),l()},1)}function y(a,b,c,d,e,f,g){db.push({groupLabel:a,testLabel:b,assertion:c,assertionLabel:d,value:e,expectation:f,isAsync:g})}function z(a){throw new Error(a)}function A(a,b,c){3!==arguments.length&&z('Assertion "equal" requires 3 arguments, found '+arguments.length),y(T.groupLabel,T.testLabel,t,c,a,b,T.isAsync)}function B(a,b){2!==arguments.length&&z('Assertion "isTrue" requires 2 arguments, found '+arguments.length),y(T.groupLabel,T.testLabel,u,b,a,!0,T.isAsync)}function C(a,b,c){3!==arguments.length&&z('Assertion "notEqual" requires 3 arguments, found '+arguments.length),y(T.groupLabel,T.testLabel,v,c,a,b,T.isAsync)}function D(a,b){2!==arguments.length&&z('Assertion "isFalse" requires 2 arguments, found '+arguments.length),y(T.groupLabel,T.testLabel,w,b,a,!0,T.isAsync)}function E(a){setTimeout(function(){a(),Y++,L()},T.asyncInterval||cb.asyncTestDelay)}function F(){T.beforeTestVal?T.testCallback(U,T.beforeTestVal):T.testCallback(U)}function G(){T.beforeTestVal?T.testCallback(U,T.beforeTestVal):T.testCallback(U),Y++,L()}function H(){T.beforeTestVal=T.beforeEachTest(),Y++,L()}function I(){T.beforeTestVal=T.asyncBeforeEachTest(),setTimeout(function(){Y++,L()},T.asyncBeforeTestInterval||cb.asyncBeforeAfterTestDelay)}function J(){T.afterEachTest(),Y++,L()}function K(){T.asyncAfterEachTest(),setTimeout(function(){Y++,L()},T.asyncAfterTestInterval||cb.asyncBeforeAfterTestDelay)}function L(){setTimeout(function(){switch(Y){case 0:T.beforeEachTest?H():T.asyncBeforeEachTest?I():(Y++,L());break;case 1:T.isAsync?F():G();break;case 2:T.afterEachTest?J():T.asyncAfterEachTest?K():(Y++,L());break;case 3:sb++,tb=!1,M()}},1)}function M(){for(var a=eb.length;a>sb&&!tb;)T=eb[sb],Y=0,tb=!0,L();sb===a&&x()}function N(a){T.beforeEachTest=a}function O(a){2===arguments.length?(T.asyncBeforeTestInterval=arguments[0],T.asyncBeforeEachTest=arguments[1]):T.asyncBeforeEachTest=a}function P(a){T.afterEachTest=a}function Q(a){2===arguments.length&&(T.asyncAfterTestInterval=arguments[0],T.asyncAfterEachTest=arguments[1]),T.asyncAfterEachTest=a}function R(){_.innerHTML="<p>Building queues. Please wait...</p>"}function S(){W=Date.now(),M()}var T,U,V,W,X,Y,Z="v1.0.0",$=document.getElementById("header"),_=document.getElementById("status-container"),ab=document.getElementById("results-container"),bb={shortCircuit:!1,windowGlobals:!0,asyncTestDelay:500,asyncBeforeAfterTestDelay:500,noDom:!1},cb={},db=[],eb=[],fb=[],gb=0,hb=0,ib=500,jb=0,kb=0,lb=0,mb=0,nb=0,ob=0,pb=0,qb=0,rb=!1,sb=0,tb=!1;$.insertAdjacentHTML("beforeend","<small>"+Z+"</small>");var ub=function(a,b){T={groupLabel:a},jb++,b()},vb=function(a,b){eb.push(e(T,{testLabel:a,testCallback:b,isAsync:!1})),mb++},wb=function(a){eb.push(e(T,{testLabel:a,testCallback:3===arguments.length?arguments[2]:arguments[1],isAsync:!0,asyncInterval:3===arguments.length?arguments[1]:cb.asyncTestDelay})),mb++};g(),a.onerror=b,cb.windowGlobals?(a.group=ub,a.beforeEachTest=N,a.asyncBeforeEachTest=O,a.afterEachTest=P,a.asyncAfterEachTest=Q,a.test=vb,a.asyncTest=wb,a.whenAsyncStopped=E,a.equal=A,a.notEqual=C,a.isTrue=B,a.isFalse=D):(a.Preamble={group:ub,beforeEachTest:N,asyncBeforeEachTest:O,afterEachTest:P,asyncAfterEachTest:Q,test:vb,asyncTest:wb,whenAsyncStopped:E},U={equal:A,notEqual:C,isTrue:B,isFalse:D});try{R(),V=setInterval(function(){eb.length===gb?hb>1?(clearInterval(V),S()):hb++:(hb=0,gb=eb.length)},ib)}catch(xb){b(xb)}}(window);