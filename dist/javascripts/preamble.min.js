!function(a){"use strict";function b(b){return decodeURI(a.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURI(b).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function c(){var a;Ab=!0,a=3===arguments.length?"<p>"+arguments[0]+"</p><p>File: "+arguments[1]+"</p><p>Line: "+arguments[2]+"</p>":'<p>An error occurred,  "'+arguments[0]+'" and all further processing has been terminated. Please check your browser console for additional details.</p>',Y.innerHTML=a}function d(a,b){var c=2===arguments?arguments[1]:"s";return 0===b?a+c:b>1?a+c:a}function e(){setTimeout(function(){var a="<p>Queues built.</p><p>Running "+mb.length+d(" assertion",mb.length)+"/"+vb+d(" test",vb)+"/"+sb+d(" group",sb)+"...</p>";Y.insertAdjacentHTML("beforeend",a)},1)}function f(a){return JSON.parse(JSON.stringify(a))}function g(){var a={},b=[].slice.call(arguments,0);return b.forEach(function(b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function h(){var a={},b=arguments[0],c=[].slice.call(arguments,1);return c.forEach(function(c){var d;for(d in b)b.hasOwnProperty(d)&&(a[d]=c.hasOwnProperty(d)?c[d]:b[d])}),a}function i(){lb=a.preambleConfig?h(kb,preambleConfig):kb}function j(){var a;a="<p>Tests completed in "+(db-cb)+" milliseconds.</p>",a+=0===zb?'<p class="summary passed">'+yb+d(" assertion",mb.length)+"/"+wb+d(" test",wb)+"/"+tb+d(" group",tb)+" passed, 0 tests failed."+"</p>":0===yb?'<p class="summary failed">0 tests passed, '+zb+d(" assertion",zb)+"/"+xb+d(" test",xb)+"/"+ub+d(" group",ub)+" failed.</p>":'<p class="summary passed">'+yb+d(" assertion",yb)+"/"+wb+d(" test",wb)+"/"+tb+d(" group",tb)+' passed.</p><p class="summary failed">'+zb+d(" assertion",zb)+"/"+xb+d(" test",xb)+"/"+ub+d(" group",ub)+" failed.</p>",a+='<a href="?">Rerun All Tests</a>',Y.insertAdjacentHTML("beforeend",a)}function k(){var a="",b="",c="";Z.style.display="block",ob.forEach(function(d){d.testLabel!==b&&c.length&&(c+="</div>"),d.groupLabel!==a&&c.length&&(c+="</div></a>"),d.groupLabel!==a&&(c+='<div class="group-container"><a class="group" href="?group='+encodeURI(d.groupLabel)+'">'+d.groupLabel+"</a>",a=d.groupLabel),d.testLabel!==b&&(c+='<div class="tests-container"><a class="test" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+'">'+d.testLabel+"</a>",b=d.testLabel),c+=d.result?'<div class="assertion-container"><a class="assertion passed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">""'+d.assertionLabel+'" ('+d.assertion.name+')  passed!"</div>':'<div class="assertion-container"><a class="assertion failed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">"'+d.assertionLabel+'" ('+d.assertion.name+")"+' failed! Expected assertion to return"<em>'+("object"==typeof d.expectation?JSON.stringify(d.expectation):d.expectation)+'</em>" but it returned "'+("object"==typeof d.result?JSON.stringify(d.result):d.result)+'</em>".</div>'}),c+="</div></div>",Z.innerHTML=c}function l(){j(),k()}function m(){var a,b;ob.forEach(function(c){c.result||(c.groupLabel!==a&&(ub++,a=c.groupLabel),c.testLabel!==b&&(xb++,b=c.testLabel))}),wb=vb-xb,tb=sb-ub}function n(){m(),Ab||l()}function o(a,b){var c,d;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(c=0,d=a.length;d>c;c++)if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(Array.isArray(a[c])&&Array.isArray(b[c])){if(!o(a[c],b[c]))return!1}else{if(Array.isArray(a[c])||Array.isArray(b[c]))return!1;if(a[c]!==b[c])return!1}}else if(!q(a[c],b[c]))return!1;return!0}return!1}function p(a,b){var c;if(o(a,b))return!0;for(c in a){if(!a.hasOwnProperty(c)||!b.hasOwnProperty(c))return!1;if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(a[c]!==b[c])return!1}else if(!p(a[c],b[c]))return!1}return!0}function q(a,b){return p(a,b)&&p(b,a)}function r(a,b){return"object"==typeof a&&"object"==typeof b&&q(a,b)?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function s(a,b){return!r(a,b)}function t(a){return a===!0}function u(a){return!t(a)}function v(a,b){return r(a,b)}function w(a){return t(a)}function x(a,b){return s(a,b)}function y(a){return u(a)}function z(){var a,b,c;e(),setTimeout(function(){for(a=0,b=mb.length;b>a;a++)if(c=mb[a],c.result=c.assertion("function"==typeof c.value?c.value():c.value,c.expectation),c.result?yb++:zb++,ob.push(c),lb.shortCircuit&&zb)return n(),void 0;db=Date.now(),n()},1)}function A(a,b,c,d,e,f,g){mb.push({groupLabel:a,testLabel:b,assertion:c,assertionLabel:d,value:e,expectation:f,isAsync:g})}function B(a){throw new Error(a)}function C(a,b,c){(hb===c||""===hb)&&(3!==arguments.length&&B('Assertion "equal" requires 3 arguments, found '+arguments.length),A(_.groupLabel,_.testLabel,v,c,_.isAsync?f(a):a,_.isAsync?f(b):b,_.isAsync))}function D(a,b){(hb===b||""===hb)&&(2!==arguments.length&&B('Assertion "isTrue" requires 2 arguments, found '+arguments.length),A(_.groupLabel,_.testLabel,w,b,a,!0,_.isAsync))}function E(a,b,c){(hb===c||""===hb)&&(3!==arguments.length&&B('Assertion "notEqual" requires 3 arguments, found '+arguments.length),A(_.groupLabel,_.testLabel,x,c,_.isAsync?f(a):a,_.isAsync?f(b):b,_.isAsync))}function F(a,b){(hb===b||""===hb)&&(2!==arguments.length&&B('Assertion "isFalse" requires 2 arguments, found '+arguments.length),A(_.groupLabel,_.testLabel,y,b,a,!0,_.isAsync))}function G(a){setTimeout(function(){a(),eb++,N()},_.asyncInterval||lb.asyncTestDelay)}function H(){lb.windowGlobals?_.beforeTestVal?_.testCallback(_.beforeTestVal):_.testCallback():_.beforeTestVal?_.testCallback(ab,_.beforeTestVal):_.testCallback(ab)}function I(){lb.windowGlobals?_.beforeTestVal?_.testCallback(_.beforeTestVal):_.testCallback():_.beforeTestVal?_.testCallback(ab,_.beforeTestVal):_.testCallback(ab),eb++,N()}function J(){_.beforeTestVal=_.beforeEachTest(),eb++,N()}function K(){_.beforeTestVal=_.asyncBeforeEachTest(),setTimeout(function(){eb++,N()},_.asyncBeforeTestInterval||lb.asyncBeforeAfterTestDelay)}function L(){_.afterEachTest(),eb++,N()}function M(){_.asyncAfterEachTest(),setTimeout(function(){eb++,N()},_.asyncAfterTestInterval||lb.asyncBeforeAfterTestDelay)}function N(){setTimeout(function(){switch(eb){case 0:_.beforeEachTest?J():_.asyncBeforeEachTest?K():(eb++,N());break;case 1:_.isAsync?H():I();break;case 2:_.afterEachTest?L():_.asyncAfterEachTest?M():(eb++,N());break;case 3:Bb++,Cb=!1,O()}},1)}function O(){for(var a=nb.length;a>Bb&&!Cb;)_=nb[Bb],eb=0,Cb=!0,N();Bb===a&&z()}function P(a){_.beforeEachTest=a}function Q(a){2===arguments.length?(_.asyncBeforeTestInterval=arguments[0],_.asyncBeforeEachTest=arguments[1]):_.asyncBeforeEachTest=a}function R(a){_.afterEachTest=a}function S(a){2===arguments.length&&(_.asyncAfterTestInterval=arguments[0],_.asyncAfterEachTest=arguments[1]),_.asyncAfterEachTest=a}function T(){Y.innerHTML="<p>Building queues. Please wait...</p>"}function U(){cb=Date.now(),O()}function V(){return $}function W(){return lb.uiTestContainerId}var X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib="v1.0.0",jb=document.getElementById("preamble-container"),kb={shortCircuit:!1,windowGlobals:!0,asyncTestDelay:500,asyncBeforeAfterTestDelay:500,name:"Test",uiTestContainerId:"ui-test-container"},lb={},mb=[],nb=[],ob=[],pb=0,qb=0,rb=500,sb=0,tb=0,ub=0,vb=0,wb=0,xb=0,yb=0,zb=0,Ab=!1,Bb=0,Cb=!1,Db=function(a,b){(fb===a||""===fb)&&(_={groupLabel:a},sb++,b())},Eb=function(a,b){(gb===a||""===gb)&&(nb.push(g(_,{testLabel:a,testCallback:b,isAsync:!1})),vb++)},Fb=function(a){(gb===a||""===gb)&&(nb.push(g(_,{testLabel:a,testCallback:3===arguments.length?arguments[2]:arguments[1],isAsync:!0,asyncInterval:3===arguments.length?arguments[1]:lb.asyncTestDelay})),vb++)};fb=b("group"),gb=b("test"),hb=b("assertion"),i(),a.onerror=c,jb.innerHTML='<header><h1 id="header"></h1></header><div class="container"><section id="status-container"></section><section id="results-container"></section></div>',jb.insertAdjacentHTML("afterend",'<div id="'+lb.uiTestContainerId+'" class="ui-test-container"></div>'),X=document.getElementById("header"),Y=document.getElementById("status-container"),Z=document.getElementById("results-container"),$=document.getElementById(lb.uiTestContainerId),X.innerHTML=lb.name,X.insertAdjacentHTML("afterend","<small>Preamble "+ib+"</small>"),lb.windowGlobals?(a.group=Db,a.beforeEachTest=P,a.asyncBeforeEachTest=Q,a.afterEachTest=R,a.asyncAfterEachTest=S,a.test=Eb,a.asyncTest=Fb,a.whenAsyncDone=G,a.equal=C,a.notEqual=E,a.isTrue=D,a.isFalse=F,a.getUiTestContainerElement=V,a.getUiTestContainerElementId=W):(a.Preamble={group:Db,beforeEachTest:P,asyncBeforeEachTest:Q,afterEachTest:R,asyncAfterEachTest:S,test:Eb,asyncTest:Fb,whenAsyncDone:G,getUiTestContainerElement:V,getUiTestContainerElementId:W},ab={equal:C,notEqual:E,isTrue:D,isFalse:F});try{T(),bb=setInterval(function(){nb.length===pb?qb>1?(clearInterval(bb),U()):qb++:(qb=0,pb=nb.length)},rb)}catch(Gb){c(Gb)}}(window);