!function(a){"use strict";function b(b){return decodeURI(a.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURI(b).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function c(){var a;Bb=!0,a=3===arguments.length?"<p>"+arguments[0]+"</p><p>File: "+arguments[1]+"</p><p>Line: "+arguments[2]+"</p>":'<p>An error occurred,  "'+arguments[0]+'" and all further processing has been terminated. Please check your browser console for additional details.</p>',Z.innerHTML=a}function d(a,b){var c=2===arguments?arguments[1]:"s";return 0===b?a+c:b>1?a+c:a}function e(){setTimeout(function(){var a="<p>Queues built.</p><p>Running "+nb.length+d(" assertion",nb.length)+"/"+wb+d(" test",wb)+"/"+tb+d(" group",tb)+"...</p>";Z.insertAdjacentHTML("beforeend",a)},1)}function f(a){return JSON.parse(JSON.stringify(a))}function g(){var a={},b=[].slice.call(arguments,0);return b.forEach(function(b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function h(){var a={},b=arguments[0],c=[].slice.call(arguments,1);return c.forEach(function(c){var d;for(d in b)b.hasOwnProperty(d)&&(a[d]=c.hasOwnProperty(d)?c[d]:b[d])}),a}function i(){mb=a.preambleConfig?h(lb,preambleConfig):lb}function j(){var a;a="<p>Tests completed in "+(eb-db)+" milliseconds.</p>",a+=0===Ab?'<p class="summary passed">'+zb+d(" assertion",nb.length)+"/"+xb+d(" test",xb)+"/"+ub+d(" group",ub)+" passed, 0 tests failed."+"</p>":0===zb?'<p class="summary failed">0 tests passed, '+Ab+d(" assertion",Ab)+"/"+yb+d(" test",yb)+"/"+vb+d(" group",vb)+" failed.</p>":'<p class="summary passed">'+zb+d(" assertion",zb)+"/"+xb+d(" test",xb)+"/"+ub+d(" group",ub)+' passed.</p><p class="summary failed">'+Ab+d(" assertion",Ab)+"/"+yb+d(" test",yb)+"/"+vb+d(" group",vb)+" failed.</p>",a+='<a href="?">Rerun All Tests</a>',Z.insertAdjacentHTML("beforeend",a)}function k(){var a="",b="",c="";$.style.display="block",pb.forEach(function(d){d.testLabel!==b&&c.length&&(c+="</div>"),d.groupLabel!==a&&c.length&&(c+="</div></a>"),d.groupLabel!==a&&(c+='<div class="group-container"><a class="group" href="?group='+encodeURI(d.groupLabel)+'">'+d.groupLabel+"</a>",a=d.groupLabel),d.testLabel!==b&&(c+='<div class="tests-container"><a class="test" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+'">'+d.testLabel+"</a>",b=d.testLabel),c+=d.result?'<div class="assertion-container"><a class="assertion passed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">""'+d.assertionLabel+'" ('+d.assertion.name+')  passed!"</div>':'<div class="assertion-container"><a class="assertion failed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">"'+d.assertionLabel+'" ('+d.assertion.name+")"+' failed! Expected assertion to return"<em>'+("object"==typeof d.expectation?JSON.stringify(d.expectation):d.expectation)+'</em>" but it returned "'+("object"==typeof d.result?JSON.stringify(d.result):d.result)+'</em>".</div>'}),c+="</div></div>",$.innerHTML=c}function l(){j(),k()}function m(){var a,b;pb.forEach(function(c){c.result||(c.groupLabel!==a&&(vb++,a=c.groupLabel),c.testLabel!==b&&(yb++,b=c.testLabel))}),xb=wb-yb,ub=tb-vb}function n(){m(),Bb||l()}function o(a,b){var c,d;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(c=0,d=a.length;d>c;c++)if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(Array.isArray(a[c])&&Array.isArray(b[c])){if(!o(a[c],b[c]))return!1}else{if(Array.isArray(a[c])||Array.isArray(b[c]))return!1;if(a[c]!==b[c])return!1}}else if(!q(a[c],b[c]))return!1;return!0}return!1}function p(a,b){var c;if(o(a,b))return!0;for(c in a){if(!a.hasOwnProperty(c)||!b.hasOwnProperty(c))return!1;if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(a[c]!==b[c])return!1}else if(!p(a[c],b[c]))return!1}return!0}function q(a,b){return p(a,b)&&p(b,a)}function r(a,b){return"object"==typeof a&&"object"==typeof b&&q(a,b)?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function s(a,b){return!r(a,b)}function t(a){return a===!0}function u(a){return!t(a)}function v(a,b){return r(a,b)}function w(a){return t(a)}function x(a,b){return s(a,b)}function y(a){return u(a)}function z(){var a,b,c;e(),setTimeout(function(){for(a=0,b=nb.length;b>a;a++)if(c=nb[a],c.result=c.assertion("function"==typeof c.value?c.value():c.value,c.expectation),c.result?zb++:Ab++,pb.push(c),mb.shortCircuit&&Ab)return n(),void 0;eb=Date.now(),n()},1)}function A(a,b,c,d,e,f,g){nb.push({groupLabel:a,testLabel:b,assertion:c,assertionLabel:d,value:e,expectation:f,isAsync:g})}function B(a){throw new Error(a)}function C(a,b,c){(ib===c||""===ib)&&(3!==arguments.length&&B('Assertion "equal" requires 3 arguments, found '+arguments.length),A(ab.groupLabel,ab.testLabel,v,c,ab.isAsync?f(a):a,ab.isAsync?f(b):b,ab.isAsync))}function D(a,b){(ib===b||""===ib)&&(2!==arguments.length&&B('Assertion "isTrue" requires 2 arguments, found '+arguments.length),A(ab.groupLabel,ab.testLabel,w,b,a,!0,ab.isAsync))}function E(a,b,c){(ib===c||""===ib)&&(3!==arguments.length&&B('Assertion "notEqual" requires 3 arguments, found '+arguments.length),A(ab.groupLabel,ab.testLabel,x,c,ab.isAsync?f(a):a,ab.isAsync?f(b):b,ab.isAsync))}function F(a,b){(ib===b||""===ib)&&(2!==arguments.length&&B('Assertion "isFalse" requires 2 arguments, found '+arguments.length),A(ab.groupLabel,ab.testLabel,y,b,a,!0,ab.isAsync))}function G(a){setTimeout(function(){a(),fb++,N()},ab.asyncInterval||mb.asyncTestDelay)}function H(){mb.windowGlobals?ab.beforeTestVal?ab.testCallback(ab.beforeTestVal):ab.testCallback():ab.beforeTestVal?ab.testCallback(bb,ab.beforeTestVal):ab.testCallback(bb)}function I(){mb.windowGlobals?ab.beforeTestVal?ab.testCallback(ab.beforeTestVal):ab.testCallback():ab.beforeTestVal?ab.testCallback(bb,ab.beforeTestVal):ab.testCallback(bb),fb++,N()}function J(){ab.beforeTestVal=ab.beforeEachTest(),fb++,N()}function K(){ab.beforeTestVal=ab.asyncBeforeEachTest(),setTimeout(function(){fb++,N()},ab.asyncBeforeTestInterval||mb.asyncBeforeAfterTestDelay)}function L(){ab.afterEachTest(),fb++,N()}function M(){ab.asyncAfterEachTest(),setTimeout(function(){fb++,N()},ab.asyncAfterTestInterval||mb.asyncBeforeAfterTestDelay)}function N(){setTimeout(function(){switch(fb){case 0:ab.beforeEachTest?J():ab.asyncBeforeEachTest?K():(fb++,N());break;case 1:ab.isAsync?H():I();break;case 2:ab.afterEachTest?L():ab.asyncAfterEachTest?M():(fb++,N());break;case 3:Cb++,Db=!1,O()}},1)}function O(){for(var a=ob.length;a>Cb&&!Db;)ab=ob[Cb],fb=0,Db=!0,N();Cb===a&&z()}function P(a){ab.beforeEachTest=a}function Q(a){2===arguments.length?(ab.asyncBeforeTestInterval=arguments[0],ab.asyncBeforeEachTest=arguments[1]):ab.asyncBeforeEachTest=a}function R(a){ab.afterEachTest=a}function S(a){2===arguments.length&&(ab.asyncAfterTestInterval=arguments[0],ab.asyncAfterEachTest=arguments[1]),ab.asyncAfterEachTest=a}function T(){Z.innerHTML="<p>Building queues. Please wait...</p>"}function U(){db=Date.now(),O()}function V(){return _}function W(){return mb.uiTestContainerId}function X(){var a=0,b=function(b){var c=function(){a+=1;var c=[].slice.call(arguments);return b.apply(this,c)};return c};return b.wasCalled=function(){return 1===arguments.length?arguments[0]===a:a>0},b}var Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb="v1.0.0",kb=document.getElementById("preamble-container"),lb={shortCircuit:!1,windowGlobals:!0,asyncTestDelay:500,asyncBeforeAfterTestDelay:500,name:"Test",uiTestContainerId:"ui-test-container"},mb={},nb=[],ob=[],pb=[],qb=0,rb=0,sb=500,tb=0,ub=0,vb=0,wb=0,xb=0,yb=0,zb=0,Ab=0,Bb=!1,Cb=0,Db=!1,Eb=function(a,b){(gb===a||""===gb)&&(ab={groupLabel:a},tb++,b())},Fb=function(a,b){(hb===a||""===hb)&&(ob.push(g(ab,{testLabel:a,testCallback:b,isAsync:!1})),wb++)},Gb=function(a){(hb===a||""===hb)&&(ob.push(g(ab,{testLabel:a,testCallback:3===arguments.length?arguments[2]:arguments[1],isAsync:!0,asyncInterval:3===arguments.length?arguments[1]:mb.asyncTestDelay})),wb++)};gb=b("group"),hb=b("test"),ib=b("assertion"),i(),a.onerror=c,kb.innerHTML='<header><h1 id="header"></h1></header><div class="container"><section id="status-container"></section><section id="results-container"></section></div>',kb.insertAdjacentHTML("afterend",'<div id="'+mb.uiTestContainerId+'" class="ui-test-container"></div>'),Y=document.getElementById("header"),Z=document.getElementById("status-container"),$=document.getElementById("results-container"),_=document.getElementById(mb.uiTestContainerId),Y.innerHTML=mb.name,Y.insertAdjacentHTML("afterend","<small>Preamble "+jb+"</small>"),mb.windowGlobals?(a.group=Eb,a.beforeEachTest=P,a.asyncBeforeEachTest=Q,a.afterEachTest=R,a.asyncAfterEachTest=S,a.test=Fb,a.asyncTest=Gb,a.whenAsyncDone=G,a.equal=C,a.notEqual=E,a.isTrue=D,a.isFalse=F,a.getUiTestContainerElement=V,a.getUiTestContainerElementId=W,a.proxy=X):(a.Preamble={group:Eb,beforeEachTest:P,asyncBeforeEachTest:Q,afterEachTest:R,asyncAfterEachTest:S,test:Fb,asyncTest:Gb,whenAsyncDone:G,getUiTestContainerElement:V,getUiTestContainerElementId:W,proxy:X},bb={equal:C,notEqual:E,isTrue:D,isFalse:F});try{T(),cb=setInterval(function(){ob.length===qb?rb>1?(clearInterval(cb),U()):rb++:(rb=0,qb=ob.length)},sb)}catch(Hb){c(Hb)}}(window);