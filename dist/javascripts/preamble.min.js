!function(a){"use strict";function b(){var a;hb=!0,a=3===arguments.length?"<p>"+arguments[0]+"</p><p>File: "+arguments[1]+"</p><p>Line: "+arguments[2]+"</p>":'<p>An error occurred,  "'+arguments[0]+'" and all further processing has been terminated. Please check your browser console for additional details.</p>',R.innerHTML=a}function c(a,b){var c=2===arguments?arguments[1]:"s";return 0===b?a+c:b>1?a+c:a}function d(){var a="<p>Queues built.</p><p>Running "+V.length+c(" assertion",V.length)+"/"+cb+c(" test",cb)+"/"+_+c(" group",_)+"...</p>";R.insertAdjacentHTML("beforeend",a)}function e(){var a={},b=[].slice.call(arguments,0);return b.forEach(function(b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function f(){var a={},b=arguments[0],c=[].slice.call(arguments,1);return c.forEach(function(c){var d;for(d in b)b.hasOwnProperty(d)&&(a[d]=c.hasOwnProperty(d)?c[d]:b[d])}),a}function g(){U=a.preambleConfig?f(T,preambleConfig):T,document.getElementById("preamble-container")||(U.noDom=!0)}function h(){var a;a="<p>Tests completed in "+(Q-P)+" milliseconds.</p>",a+=0===gb?"<p>"+fb+c(" assertion",V.length)+"/"+db+c(" test",db)+"/"+ab+c(" group",ab)+" passed, 0 tests failed."+"</p>":0===fb?"<p> 0 tests passed, "+gb+c(" assertion",gb)+"/"+eb+c(" test",eb)+"/"+bb+c(" group",bb)+" failed.</p>":"<p>"+fb+c(" assertion",fb)+"/"+db+c(" test",db)+"/"+ab+c(" group",ab)+" passed, "+gb+c(" assertion",gb)+"/"+eb+c(" test",eb)+"/"+bb+c(" group",bb)+" failed.</p>",R.insertAdjacentHTML("beforeend",a)}function i(){S.style.display="block",X.forEach(function(a){var b;a.result||(b='<div class="failed-result">Assertion "'+a.assertionLabel+'" ('+a.assertion.name+') in test "'+a.testLabel+'", group "'+a.groupLabel+'" failed! Expected assertion to return"<em>'+("object"==typeof a.expectation?JSON.stringify(a.expectation):a.expectation)+'</em>" but it returned "'+("object"==typeof a.result?JSON.stringify(a.result):a.result)+'</em>".</div>',S.insertAdjacentHTML("beforeend",b))})}function j(){h(),gb&&i()}function k(){var a,b;X.forEach(function(c){c.result||(c.groupLabel!==a&&(bb++,a=c.groupLabel),c.testLabel!==b&&(eb++,b=c.testLabel))}),db=cb-eb,ab=_-bb}function l(){k(),hb||j()}function m(a,b){var c,d;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(c=0,d=a.length;d>c;c++)if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(Array.isArray(a[c])&&Array.isArray(b[c])){if(!m(a[c],b[c]))return!1}else{if(Array.isArray(a[c])||Array.isArray(b[c]))return!1;if(a[c]!==b[c])return!1}}else if(!o(a[c],b[c]))return!1;return!0}return!1}function n(a,b){var c;if(m(a,b))return!0;for(c in a){if(!a.hasOwnProperty(c)||!b.hasOwnProperty(c))return!1;if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(a[c]!==b[c])return!1}else if(!n(a[c],b[c]))return!1}return!0}function o(a,b){return n(a,b)&&n(b,a)}function p(a,b){return"object"==typeof a&&"object"==typeof b&&o(a,b)?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function q(a,b){return!p(a,b)}function r(a){return a===!0}function s(a){return!r(a)}function t(a,b){return p(a,b)}function u(a){return r(a)}function v(a,b){return q(a,b)}function w(a){return s(a)}function x(){var a,b,c;d(),setTimeout(function(){for(a=0,b=V.length;b>a;a++)if(c=V[a],c.result=c.assertion("function"==typeof c.value?c.value():c.value,c.expectation),c.result?fb++:gb++,X.push(c),U.shortCircuit&&gb)return l(),void 0;Q=Date.now(),l()},2e3)}function y(a,b,c,d,e,f,g){V.push({groupLabel:a,testLabel:b,assertion:c,assertionLabel:d,value:e,expectation:f,isAsync:g})}function z(a){throw new Error(a)}function A(a,b,c){3!==arguments.length&&z('Assertion "equal" requires 3 arguments, found '+arguments.length),y(M.groupLabel,M.testLabel,t,c,a,b,M.isAsync)}function B(a,b){2!==arguments.length&&z('Assertion "isTrue" requires 2 arguments, found '+arguments.length),y(M.groupLabel,M.testLabel,u,b,a,!0,M.isAsync)}function C(a,b,c){3!==arguments.length&&z('Assertion "notEqual" requires 3 arguments, found '+arguments.length),y(M.groupLabel,M.testLabel,v,c,a,b,M.isAsync)}function D(a,b){2!==arguments.length&&z('Assertion "isFalse" requires 2 arguments, found '+arguments.length),y(M.groupLabel,M.testLabel,w,b,a,!0,M.isAsync)}function E(a){var b,c=a||U.asyncDelay,d=Date.now();jb=!0,b=setInterval(function(){jb&&Date.now-d>c&&(clearInterval(b),z('Async process for test "'+M.testLabel+'" has timed out')),M.whenAsyncStopped&&M.whenAsyncStopped(),ib++,J()},1)}function F(){jb=!1}function G(a){setTimeout(function(){a(),jb=!1,ib++,J()},M.asyncInterval||U.asyncDelay)}function H(){jb=!0,M.testCallback(N)}function I(){M.testCallback(N),ib++}function J(){for(var a=W.length;a>ib&&!jb;)M=W[ib],M.isAsync?H():I();ib===a&&x()}function K(){R.innerHTML="<p>Building queues. Please wait...</p>"}function L(){setTimeout(function(){J()},2e3)}var M,N,O,P,Q,R=document.getElementById("header"),S=document.getElementById("results"),T={shortCircuit:!1,windowGlobals:!0,asyncDelay:500,noDom:!1},U={},V=[],W=[],X=[],Y=0,Z=0,$=500,_=0,ab=0,bb=0,cb=0,db=0,eb=0,fb=0,gb=0,hb=!1,ib=0,jb=!1,kb=function(a,b){M={groupLabel:a},_++,b()},lb=function(a,b){W.push(e(M,{testLabel:a,testCallback:b,isAsync:!1})),cb++},mb=function(a){W.push(e(M,{testLabel:a,testCallback:3===arguments.length?arguments[2]:arguments[1],isAsync:!0,asyncInterval:3===arguments.length?arguments[1]:U.asyncDelay})),cb++};g(),a.onerror=b,U.windowGlobals?(a.group=kb,a.test=lb,a.asyncTest=mb,a.asyncStart=E,a.asyncStop=F,a.whenAsyncStopped=G,a.equal=A,a.notEqual=C,a.isTrue=B,a.isFalse=D):(a.Preamble={group:kb,test:lb,asyncTest:mb,asyncStart:E,asyncStop:F,whenAsyncStopped:G},N={equal:A,notEqual:C,isTrue:B,isFalse:D});try{P=Date.now(),K(),O=setInterval(function(){W.length===Y?Z>1?(clearInterval(O),L()):Z++:(Z=0,Y=W.length)},$)}catch(nb){b(nb)}}(window);