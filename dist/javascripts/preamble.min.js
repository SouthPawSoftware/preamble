!function(a){"use strict";function b(b){return decodeURI(a.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURI(b).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function c(){var a;zb=!0,a=3===arguments.length?"<p>"+arguments[0]+"</p><p>File: "+arguments[1]+"</p><p>Line: "+arguments[2]+"</p>":'<p>An error occurred,  "'+arguments[0]+'" and all further processing has been terminated. Please check your browser console for additional details.</p>',X.innerHTML=a}function d(a,b){var c=2===arguments?arguments[1]:"s";return 0===b?a+c:b>1?a+c:a}function e(){setTimeout(function(){var a="<p>Queues built.</p><p>Running "+lb.length+d(" assertion",lb.length)+"/"+ub+d(" test",ub)+"/"+rb+d(" group",rb)+"...</p>";X.insertAdjacentHTML("beforeend",a)},1)}function f(){var a={},b=[].slice.call(arguments,0);return b.forEach(function(b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function g(){var a={},b=arguments[0],c=[].slice.call(arguments,1);return c.forEach(function(c){var d;for(d in b)b.hasOwnProperty(d)&&(a[d]=c.hasOwnProperty(d)?c[d]:b[d])}),a}function h(){kb=a.preambleConfig?g(jb,preambleConfig):jb}function i(){var a;a="<p>Tests completed in "+(cb-bb)+" milliseconds.</p>",a+=0===yb?'<p class="summary passed">'+xb+d(" assertion",lb.length)+"/"+vb+d(" test",vb)+"/"+sb+d(" group",sb)+" passed, 0 tests failed."+"</p>":0===xb?'<p class="summary failed">0 tests passed, '+yb+d(" assertion",yb)+"/"+wb+d(" test",wb)+"/"+tb+d(" group",tb)+" failed.</p>":'<p class="summary passed">'+xb+d(" assertion",xb)+"/"+vb+d(" test",vb)+"/"+sb+d(" group",sb)+' passed.</p><p class="summary failed">'+yb+d(" assertion",yb)+"/"+wb+d(" test",wb)+"/"+tb+d(" group",tb)+" failed.</p>",a+='<a href="./">Rerun All Tests</a>',X.insertAdjacentHTML("beforeend",a)}function j(){var a="",b="",c="";Y.style.display="block",nb.forEach(function(d){d.testLabel!==b&&c.length&&(c+="</div>"),d.groupLabel!==a&&c.length&&(c+="</div></a>"),d.groupLabel!==a&&(c+='<div class="group-container"><a class="group" href="?group='+encodeURI(d.groupLabel)+'">'+d.groupLabel+"</a>",a=d.groupLabel),d.testLabel!==b&&(c+='<div class="tests-container"><a class="test" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+'">'+d.testLabel+"</a>",b=d.testLabel),c+=d.result?'<div class="assertion-container"><a class="assertion passed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">""'+d.assertionLabel+'" ('+d.assertion.name+')  passed!"</div>':'<div class="assertion-container"><a class="assertion failed" href="?group='+encodeURI(d.groupLabel)+"&test="+encodeURI(d.testLabel)+"&assertion="+encodeURI(d.assertionLabel)+'">"'+d.assertionLabel+'" ('+d.assertion.name+")"+' failed! Expected assertion to return"<em>'+("object"==typeof d.expectation?JSON.stringify(d.expectation):d.expectation)+'</em>" but it returned "'+("object"==typeof d.result?JSON.stringify(d.result):d.result)+'</em>".</div>'}),c+="</div></div>",Y.innerHTML=c}function k(){i(),j()}function l(){var a,b;nb.forEach(function(c){c.result||(c.groupLabel!==a&&(tb++,a=c.groupLabel),c.testLabel!==b&&(wb++,b=c.testLabel))}),vb=ub-wb,sb=rb-tb}function m(){l(),zb||k()}function n(a,b){var c,d;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(c=0,d=a.length;d>c;c++)if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(Array.isArray(a[c])&&Array.isArray(b[c])){if(!n(a[c],b[c]))return!1}else{if(Array.isArray(a[c])||Array.isArray(b[c]))return!1;if(a[c]!==b[c])return!1}}else if(!p(a[c],b[c]))return!1;return!0}return!1}function o(a,b){var c;if(n(a,b))return!0;for(c in a){if(!a.hasOwnProperty(c)||!b.hasOwnProperty(c))return!1;if("object"!=typeof a[c]||"object"!=typeof b[c]){if("object"==typeof a[c]||"object"==typeof b[c])return!1;if(a[c]!==b[c])return!1}else if(!o(a[c],b[c]))return!1}return!0}function p(a,b){return o(a,b)&&o(b,a)}function q(a,b){return"object"==typeof a&&"object"==typeof b&&p(a,b)?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function r(a,b){return!q(a,b)}function s(a){return a===!0}function t(a){return!s(a)}function u(a,b){return q(a,b)}function v(a){return s(a)}function w(a,b){return r(a,b)}function x(a){return t(a)}function y(){var a,b,c;e(),setTimeout(function(){for(a=0,b=lb.length;b>a;a++)if(c=lb[a],c.result=c.assertion("function"==typeof c.value?c.value():c.value,c.expectation),c.result?xb++:yb++,nb.push(c),kb.shortCircuit&&yb)return m(),void 0;cb=Date.now(),m()},1)}function z(a,b,c,d,e,f,g){lb.push({groupLabel:a,testLabel:b,assertion:c,assertionLabel:d,value:e,expectation:f,isAsync:g})}function A(a){throw new Error(a)}function B(a,b,c){(gb===c||""===gb)&&(3!==arguments.length&&A('Assertion "equal" requires 3 arguments, found '+arguments.length),z($.groupLabel,$.testLabel,u,c,a,b,$.isAsync))}function C(a,b){(gb===b||""===gb)&&(2!==arguments.length&&A('Assertion "isTrue" requires 2 arguments, found '+arguments.length),z($.groupLabel,$.testLabel,v,b,a,!0,$.isAsync))}function D(a,b,c){(gb===c||""===gb)&&(3!==arguments.length&&A('Assertion "notEqual" requires 3 arguments, found '+arguments.length),z($.groupLabel,$.testLabel,w,c,a,b,$.isAsync))}function E(a,b){(gb===b||""===gb)&&(2!==arguments.length&&A('Assertion "isFalse" requires 2 arguments, found '+arguments.length),z($.groupLabel,$.testLabel,x,b,a,!0,$.isAsync))}function F(a){setTimeout(function(){a(),db++,M()},$.asyncInterval||kb.asyncTestDelay)}function G(){$.beforeTestVal?$.testCallback(_,$.beforeTestVal):$.testCallback(_)}function H(){$.beforeTestVal?$.testCallback(_,$.beforeTestVal):$.testCallback(_),db++,M()}function I(){$.beforeTestVal=$.beforeEachTest(),db++,M()}function J(){$.beforeTestVal=$.asyncBeforeEachTest(),setTimeout(function(){db++,M()},$.asyncBeforeTestInterval||kb.asyncBeforeAfterTestDelay)}function K(){$.afterEachTest(),db++,M()}function L(){$.asyncAfterEachTest(),setTimeout(function(){db++,M()},$.asyncAfterTestInterval||kb.asyncBeforeAfterTestDelay)}function M(){setTimeout(function(){switch(db){case 0:$.beforeEachTest?I():$.asyncBeforeEachTest?J():(db++,M());break;case 1:$.isAsync?G():H();break;case 2:$.afterEachTest?K():$.asyncAfterEachTest?L():(db++,M());break;case 3:Ab++,Bb=!1,N()}},1)}function N(){for(var a=mb.length;a>Ab&&!Bb;)$=mb[Ab],db=0,Bb=!0,M();Ab===a&&y()}function O(a){$.beforeEachTest=a}function P(a){2===arguments.length?($.asyncBeforeTestInterval=arguments[0],$.asyncBeforeEachTest=arguments[1]):$.asyncBeforeEachTest=a}function Q(a){$.afterEachTest=a}function R(a){2===arguments.length&&($.asyncAfterTestInterval=arguments[0],$.asyncAfterEachTest=arguments[1]),$.asyncAfterEachTest=a}function S(){X.innerHTML="<p>Building queues. Please wait...</p>"}function T(){bb=Date.now(),N()}function U(){return Z}function V(){return kb.uiTestContainerId}var W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb="v1.0.0",ib=document.getElementById("preamble-container"),jb={shortCircuit:!1,windowGlobals:!0,asyncTestDelay:500,asyncBeforeAfterTestDelay:500,name:"Test",uiTestContainerId:"ui-test-container"},kb={},lb=[],mb=[],nb=[],ob=0,pb=0,qb=500,rb=0,sb=0,tb=0,ub=0,vb=0,wb=0,xb=0,yb=0,zb=!1,Ab=0,Bb=!1,Cb=function(a,b){(eb===a||""===eb)&&($={groupLabel:a},rb++,b())},Db=function(a,b){(fb===a||""===fb)&&(mb.push(f($,{testLabel:a,testCallback:b,isAsync:!1})),ub++)},Eb=function(a){(fb===a||""===fb)&&(mb.push(f($,{testLabel:a,testCallback:3===arguments.length?arguments[2]:arguments[1],isAsync:!0,asyncInterval:3===arguments.length?arguments[1]:kb.asyncTestDelay})),ub++)};eb=b("group"),fb=b("test"),gb=b("assertion"),h(),a.onerror=c,ib.innerHTML='<header><h1 id="header"></h1></header><div class="container"><section id="status-container"></section><section id="results-container"></section></div>',ib.insertAdjacentHTML("afterend",'<div id="'+kb.uiTestContainerId+'"></div>'),W=document.getElementById("header"),X=document.getElementById("status-container"),Y=document.getElementById("results-container"),Z=document.getElementById(kb.uiTestContainerId),W.innerHTML=kb.name,W.insertAdjacentHTML("afterend","<small>Preamble "+hb+"</small>"),kb.windowGlobals?(a.group=Cb,a.beforeEachTest=O,a.asyncBeforeEachTest=P,a.afterEachTest=Q,a.asyncAfterEachTest=R,a.test=Db,a.asyncTest=Eb,a.whenAsyncDone=F,a.equal=B,a.notEqual=D,a.isTrue=C,a.isFalse=E,a.getUiTestContainerElement=U,a.getUiTestContainerElementId=V):(a.Preamble={group:Cb,beforeEachTest:O,asyncBeforeEachTest:P,afterEachTest:Q,asyncAfterEachTest:R,test:Db,asyncTest:Eb,whenAsyncDone:F,getUiTestContainerElement:U,getUiTestContainerElementId:V},_={equal:B,notEqual:D,isTrue:C,isFalse:E});try{S(),ab=setInterval(function(){mb.length===ob?pb>1?(clearInterval(ab),T()):pb++:(pb=0,ob=mb.length)},qb)}catch(Fb){c(Fb)}}(window);